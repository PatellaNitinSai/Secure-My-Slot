<!-- src/app/components/login-form/login-form.component.html -->
<div class="login-root">
  <div class="brand">
    <div class="left-logo">
      <!-- optional image bg or inline mark -->
      <img
        src="https://tse1.mm.bing.net/th/id/OIP.EmPgnOgFrNeBbXj_5QAEbgHaHa?pid=Api"
        style="width: 115px; height: 115px; border-radius: 12px;"
        alt="Daimler Truck HIL logo"
      />
    </div>
    <h1>Secure My Slot</h1>
    <p class="tag">Plan. Reserve. Execute.</p>
  </div>

  <form
    [formGroup]="form"
    (ngSubmit)="onSubmit()"
    class="login-card"
    novalidate
  >
    <!-- Email -->
    <div class="field">
      <label for="email">Email</label>
      <input
        id="email"
        type="email"
        formControlName="email"
        autocomplete="email"
        [attr.aria-invalid]="email.invalid && email.touched"
      />
      <div class="error" *ngIf="email.touched">
        <small *ngIf="email.hasError('required')">Email is required.</small>
        <small *ngIf="email.hasError('email')">
          Enter a valid email address.
        </small>
      </div>
    </div>

    <!-- Password -->
    <div class="field">
      <label for="password">Password</label>
      <div class="password-row">
        <input
          id="password"
          [type]="showPassword ? 'text' : 'password'"
          formControlName="password"
          autocomplete="current-password"
          [attr.aria-invalid]="password.invalid && password.touched"
        />
        <button
          type="button"
          class="icon-btn"
          aria-label="Toggle password visibility"
          (click)="toggleShowPassword()"
        >
          {{ showPassword ? 'Hide' : 'Show' }}
        </button>
      </div>
      <div class="error" *ngIf="password.touched">
        <small *ngIf="password.hasError('required')">
          Password is required.
        </small>
        <small *ngIf="password.hasError('minlength')">
          Password must be at least 6 characters.
        </small>
      </div>
    </div>

    <!-- Remember + Forgot -->
    <div class="row between">
      <label class="remember">
        <input type="checkbox" formControlName="remember" />
        Remember me
      </label>

      <a class="forgot" routerLink="/forgot">Forgot?</a>
    </div>

    <!-- Primary sign-in button -->
    <button type="submit" class="primary" [disabled]="loading">
      <span *ngIf="!loading">Sign in</span>
      <span class="spinner" *ngIf="loading" aria-hidden="true"></span>
    </button>

    <!-- Secondary SSO / Daimler button (non-submit) -->
    <button
  type="button"
  class="primary secondary-btn"
  [disabled]="loading"
  (click)="loginWithDaimler()"
>
  <span *ngIf="!loading">Continue With Daimler Credentials</span>
  <span class="spinner" *ngIf="loading" aria-hidden="true"></span>
</button>
<!-- Full Screen Blur Loader -->
<div *ngIf="authenticating" class="auth-overlay">
  <div class="auth-box">
    <div class="spinner"></div>
    <p>Authenticating userâ€¦</p>
  </div>
</div>

    <footer class="signup">
      Don't have an account?
      <a routerLink="/register">Create one</a>
    </footer>
  </form>
</div>

<app-footer></app-footer>
